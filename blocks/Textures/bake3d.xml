<shrimp type="function" name="Bake3d" description="Bakes associated data" author="rconstruct">
	<input name="bakefile" description="Baked map filename" storage="uniform" type="string" default="&quot;&quot;"/>
	<input name="PP" description="Surface point" type="point" default="P"/>
	<input name="NN" description="Surface normal" type="normal" default="normalize(N)"/>
	<input name="coordsys" description="Coordinate system" storage="uniform" type="string" default="&quot;world&quot;"/>
	<input name="filterradius" description="Filter radius" type="float" default="1"/>
	<input name="filterscale" description="Filter scale" type="float" default="1"/>
	<input name="interpolate" description="Toggle interpolation" type="float" default="1"/>
	<input name="channel" description="Data channel to bake" storage="uniform" type="string" default="&quot;&quot;"/>
	<input name="value" description="Value associated with data channel" type="point vector normal color float" type_parent="bdataval" default="0" />
	<output name="status" description="Status" type="float"/>
	<output name="bdataval" description="Baked data value" type="point vector normal color float" />
	<rsl_code>
	#if RENDERER==pixie
		$(status) = bake3d( $(bakefile), $(channel), $(PP), $(NN),
							"coordsystem", $(coordsys),
							"interpolate", $(interpolate), 
							"radius", $(filterradius),
							"radiusscale", $(filterscale),
							$(channel), $(value) );
		$(bdataval) = $(value);
		
	#elif RENDERER==_3delight
	/* DisplayChannels are ignored in bake3d for the time being (in 7.0) */
		$(status) = bake3d( $(bakefile), $(channel), $(PP), $(NN),
								"coordsystem", $(coordsys),
								"radius", $(filterradius),
								"radiusscale", $(filterscale),
								"interpolate", $(interpolate),
								$(channel), $(value) );
		$(bdataval) = $(value);
		
	#elif RENDERER==prman
		$(status) = bake3d( $(bakefile), $(channel), $(PP), $(NN),
								"coordsystem", $(coordsys),
								"radius", $(filterradius),
								"radiusscale", $(filterscale),
								"interpolate", $(interpolate),
								$(channel), $(value) );
		$(bdataval) = $(value);
		
	#elif RENDERER==air
		$(status) = bake3d( $(bakefile), $(PP), $(NN),
								"radius", $(filterscale),
								"radiusscale", $(filterradius),
								$(channel), $(value) );
		$(bdataval) = $(value);

	#else
		$(bdataval) = $(value);
		$(status) = 0;
	#endif
			
	</rsl_code>
<usage>Bakes the supplied data channel into a bakefile. Note that this varies considerably with each renderer's implementation, please check your renderer's documentation for details. Returns 1 if sucessfull, 0 if failed.</usage>
</shrimp>
