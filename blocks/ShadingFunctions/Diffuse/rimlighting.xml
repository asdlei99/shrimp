<shrimp type="function" name="RimLight" description="Rim lighting shader" author="rconstruct">
	<input name="Crim" description="Rim color" type="color" default="color(1)"/>
	<input name="Krim" description="Rim coefficient" type="float" default="1"/>
	<input name="rwidth" description="Rim width" type="float" default="1"/>
	<input name="N" description="Surface normal" storage="varying" type="vector normal" default="normalize(N)"/>
	<input name="V" description="Viewer or user supplied vector" storage="varying" type="vector" default="normalize(I)"/>
	<input name="dx" description="Filter width" type="float" default="0.0"/>
	<output name="Ci" description="The amount of diffuse light" type="color" />
	<rsl_include>rsl_shrimp_shadingmodels.h</rsl_include>
	<rsl_code>
	#if RENDERER == pixie
		aov_rimlighting += $(Crim) * $(Krim) * float rimlighting(
						$(rwidth), $(dx), $(N), $(V) );
	#else
		aov_rimlighting += $(Crim) * $(Krim) * rimlighting( $(rwidth),
						$(dx), $(N), $(V) );
	#endif
		$(Ci) = aov_rimlighting;
	</rsl_code>
<usage>Rim lighting function, returns the cosine of the angle between the surface normal and the viewer vector, altough you can supply an custom vector instead of viewer vector, to get a directional rim lighting effect. The parameter &quot;rwidth&quot; controls the rim width effect, while the parameter &quot;rint&quot;, controls the rim intensity. You can specify an filter width, via the parameter &quot;dx&quot;, in which case the function uses &quot;filteredsmoothstep&quot; instead of &quot;smoothstep&quot;. This value is passed to the &quot;aov_rimlighting&quot; AOV preset.</usage>
</shrimp>
