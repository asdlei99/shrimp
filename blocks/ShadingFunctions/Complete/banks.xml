<shrimp name="Banks" type="function" description="Banks anisotropic model" author="rconstruct">
	<input name="Cdiff" description="Surface color" type="color" default="color(0.5)"/>
	<input name="Cspec" description="Specular color" type="color" default="color(1)"/>
	<input name="Ka" description="Ambient light coefficient" type="float" default="0.1"/>
	<input name="Kd" description="Diffuse light coefficient" type="float" default="0.5"/>
    <input name="Ks" description="Specular light coefficient" type="float" default="1"/>
    <input name="roughness" description="Surface roughness" type="float" default="0.25"/>
	<input name="adir" description="Anisotropy direction" type="vector" default="dPdu"/>
    <input name="NN" description="Normal vector" type="normal" default="normalize(N)"/>
    <input name="IN" description="Eye vector" type="vector" default="normalize(I)"/>
    <output name="Ci" description="Shaded color" type="color" />
	<include>shadingmodels.h</include>
	<code>
		aov_surfacecolor += $(Cdiff);
		aov_specularcolor += $(Cspec);
		aov_ambient += aov_surfacecolor * $(Ka) * ambient();

		$(Ci) = aov_surfacecolor * aov_ambient + banksaniso(
				$(Cdiff), $(Cspec), $(Kd), $(Ks), $(roughness), $(NN),
				$(IN), $(adir), DECLARE_AOV_PARAMETERS ) ;

	</code>
    <usage>Implementation of the Banks fast anisotropic model, based on the paper "Illumination in Diverse Codimensions", by David C. Banks. The anisotropy direction is specified via the adir parameter, defaulting to dPdu, while the parameter roughness controls the apparent surface roughness.  This block passes the resulting values to the aov_surfacecolor, aov_ambient, aov_diffuse, aov_specularcolor and aov_specular AOV presets.</usage>
</shrimp>
