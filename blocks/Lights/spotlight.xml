<shrimp type="function" name="ShadowSpotLight" description="Shadpw Spotlight shader block" author="rconstruct">
	<input name="inten" description="Light intensity" type="float" default="5000"/>
	<input name="lcolor" description="Light color" type="color" type_parent="Cl" default="color( 1, .93, .81 )"/>
	<input name="lpos" description="Light source position" type="point" default="point &quot;shader&quot; ( -15, 10, 5 )"/>
	<input name="ltar" description="Light source target position" type="point" default="point &quot;shader&quot; ( 0, 0, 0 )"/>
	<input name="coneangle" description="Cone angle" type="float" default="30"/>
	<input name="conedelta" description="Cone delta angle" type="float" default="5"/>
	<input name="bdist" description="Beam distribution" type="float" default="2"/>
	<input name="shadowname" description="Shadow map name" storage="uniform" type="string" default="&quot;&quot;"/>
	<input name="filtername" description="Filter type" storage="uniform" type="string" default="&quot;gaussian&quot;"/>
	<input name="samples" description="Shadow map samples" type="float" default="16"/>
	<input name="blur" description="Shadow map blur" type="float" default="0"/>
	<input name="width" description="Shadow map filter width" type="float" default="1"/>
	<input name="bias" description="Shadow map bias" type="float" default="-1"/>
	<input name="atten" description="Attenuation" type="float" default="1e6"/>
	<output name="Cl" description="Light ray color" type="color"/>
	<rsl_include>shrimp_lights.h</rsl_include>
	<rsl_code>
		$(Cl) = sig2kshadowspot( $(inten), $(lcolor), $(lpos), $(ltar),
					radians( $(coneangle) ), radians( $(conedelta) ),
					$(bdist), $(shadowname), $(filtername),
					$(samples), $(blur), $(bias), $(atten), $(width) );
	</rsl_code>
<usage>Modified shadow spotlight shader, by Tal Lancaster, from The RenderMan repository ( www.renderman.org ). Modified to better handle atenuation. Bias overrides the global shadow bias value, with -1 being the global default, and blur, the amount to soften the shadow edges. Shadow map filter type defaults to gaussian, with triangle and box as optional.</usage>
</shrimp>
